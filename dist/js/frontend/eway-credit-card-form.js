jQuery((function(e){e("input.wc-credit-card-form-card-number").payment("formatCardNumber"),e("input.wc-credit-card-form-card-expiry").payment("formatCardExpiry"),e("input.wc-credit-card-form-card-cvc").payment("formatCardCVC"),e("#eway_credit_card_form").on("submit",(function(a,r){var t=e(this).find(".woocommerce-error");if(t.hide(),t.html(""),void 0!==(r=r||{}).readyToSubmit&&!0===r.readyToSubmit)return expiryMonthReady=0!=e("#EWAY_CARDEXPIRYMONTH").val(),expiryYearReady=0!=e("#EWAY_CARDEXPIRYYEAR").val(),cardNumberReady=0!=e("#EWAY_CARDNUMBER").val(),cvnReady=e("#EWAY_CARDCVN").val()&&e("#EWAY_CARDCVN").val().length,formUrlReady=0!=e(a.currentTarget).attr("action"),!!(expiryMonthReady&&expiryYearReady&&cardNumberReady&&cvnReady&&formUrlReady)||(a.preventDefault(),e(this).find('input[type="submit"]').removeAttr("disabled"),e(this).css({opacity:1}),t.show(),t.html("<li>"+eway_settings.formErrors.anotherPaymentMethod+"</li>"),!1);if(a.preventDefault(),e("#EWAY_TEMPCARDNUMBER").parent().removeClass("validate-required").removeClass("woocommerce-invalid"),e("#EWAY_EXPIRY").parent().removeClass("validate-required").removeClass("woocommerce-invalid"),e("#EWAY_CARDCVN").parent().removeClass("validate-required").removeClass("woocommerce-invalid"),!e.payment.validateCardNumber(e("#EWAY_TEMPCARDNUMBER").val()))return e("#EWAY_TEMPCARDNUMBER").parent().addClass("validate-required").addClass("woocommerce-invalid"),!1;if(""===eway_settings.card_types)return!1;for(var d=e.payment.cardType(e("#EWAY_TEMPCARDNUMBER").val()),i=!1,o=0;o<eway_settings.card_types.length;o++)d==eway_settings.card_types[o]&&(i=!0);if(!i)return e("#EWAY_TEMPCARDNUMBER").parent().addClass("validate-required").addClass("woocommerce-invalid"),!1;var n=e("#EWAY_EXPIRY").payment("cardExpiryVal");return e.payment.validateCardExpiry(n.month,n.year)?e.payment.validateCardCVC(e("#EWAY_CARDCVN").val())?(e("#EWAY_CARDEXPIRYMONTH").val(n.month),e("#EWAY_CARDEXPIRYYEAR").val(n.year),e("#EWAY_CARDNUMBER").val(e("#EWAY_TEMPCARDNUMBER").val().replace(/ /g,"")),eWayApiFormUrl=e("#EWAY_SUBMIT_URL").val(),e(a.currentTarget).attr("action",eWayApiFormUrl),e(this).find('input[type="submit"]').attr("disabled","disabled"),e(this).css({opacity:.5}),void e(a.currentTarget).trigger("submit",{readyToSubmit:!0})):(e("#EWAY_CARDCVN").parent().addClass("validate-required").addClass("woocommerce-invalid"),!1):(e("#EWAY_EXPIRY").parent().addClass("validate-required").addClass("woocommerce-invalid"),!1)}))}));